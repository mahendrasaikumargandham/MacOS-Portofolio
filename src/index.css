@import url("https://fonts.googleapis.com/css2?family=Georama:ital,wght@0,100..900;1,100..900&family=Roboto+Mono:ital,wght@0,100..700;1,100..700&display=swap");

@import "tailwindcss";

html,
body {
  width: 100dvw;
  overflow: hidden;
  height: 100dvh;
  background-image: url("/images/wallpaper.png");
  background-size: cover;
  background-repeat: no-repeat;
  background-position: center;
  padding: 0; 
  margin: 0;
  /* Prevent scrolling on mobile for that "App" feel */
  touch-action: none; 
}

@theme {
  --font-georama: "Georama", sans-serif;
  --font-roboto: "Roboto Mono", monospace;
  --breakpoint-3xl: 1920px;
}

/* --- Utilities --- */
@utility flex-center {
  @apply flex items-center justify-center;
}

@utility col-center {
  @apply flex flex-col items-center justify-center;
}

@utility abs-center {
  @apply absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2;
}

.font-sf {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
}

@layer base {
  main {
    @apply w-dvw h-dvh overflow-hidden;
  }
}

@layer components {
  .icon {
    @apply p-1 hover:bg-gray-200 rounded hover:cursor-default;
  }

  /* --- WELCOME SCREEN --- */
  /* Hidden on mobile now because we support mobile view! */
  #welcome {
    @apply text-gray-200 flex flex-col justify-center items-center absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 select-none z-0;

    .small-screen {
      @apply hidden; /* Hiding the warning message */
    }
  }

  /* --- iOS / macOS HOME SCREEN ICONS --- */
  #home {
    /* Desktop: Absolute positioning (Mac style) 
       Mobile: 4-Column Grid (iOS style) */
    @apply relative z-0 w-full h-full pt-16 px-4 max-sm:block;

    ul {
      @apply max-sm:grid max-sm:grid-cols-4 max-sm:gap-x-4 max-sm:gap-y-8 max-sm:w-full;

      li {
        /* Desktop: Absolute placed icons */
        @apply sm:absolute sm:z-0 sm:flex sm:items-center sm:flex-col;
        
        /* Mobile: Relative Grid Items */
        @apply max-sm:relative max-sm:flex max-sm:flex-col max-sm:items-center max-sm:justify-start;

        img {
          /* iOS App Icon Style */
          @apply group-hover:bg-gray-950/10 p-1 rounded-2xl max-sm:size-16 max-sm:rounded-2xl max-sm:bg-transparent max-sm:shadow-sm;
        }

        p {
          /* App Labels */
          @apply text-sm text-white text-center px-1 rounded-md sm:group-hover:bg-blue-500 transition-colors max-w-40 max-sm:text-xs max-sm:mt-1 max-sm:font-medium max-sm:drop-shadow-md;
        }
      }
    }
  }

  /* --- DOCK STYLES (Responsive) --- */
  #dock {
    @apply fixed bottom-4 left-0 w-full flex justify-center z-50 select-none;

    .dock-container {
      /* DESKTOP: Changed h-16 (64px) to h-14 (56px) for a sleeker look.
         MOBILE: Kept h-20 for touch accessibility. */
      @apply h-14 max-sm:h-20 bg-white/20 backdrop-blur-md border border-white/10 rounded-2xl px-3 flex items-end gap-3 overflow-visible max-sm:w-[90%] max-sm:justify-between max-sm:px-4 max-sm:pb-4;
    }

    .dock-tooltip {
      @apply !py-1 !px-3 !w-fit !text-center !text-xs !rounded-md !bg-gray-800 !text-white !shadow-2xl z-50 max-sm:hidden;
    }

    .dock-icon {
      @apply cursor-pointer w-full h-full;

      img {
        @apply object-cover object-center w-full h-full;
      }
    }
  }

  /* --- WINDOW CONTROLS (Mac Traffic Lights) --- */
  #window-controls {
    /* Hide traffic lights on mobile (Apps are full screen) */
    @apply flex gap-2 max-sm:hidden;

    .close { @apply size-3.5 rounded-full bg-[#ff6157] cursor-pointer; }
    .minimize { @apply size-3.5 rounded-full bg-[#ffc030]; }
    .maximize { @apply size-3.5 rounded-full bg-[#2acb42]; }
  }

  /* Header hidden on mobile apps usually, or adapted */
  #window-header {
    @apply flex items-center justify-between px-4 py-3 rounded-t-lg bg-gray-50 border-b border-gray-200 select-none text-sm text-gray-400 max-sm:hidden;
  }

  /* --- APPS / WINDOWS SCALING --- */
  /* Logic: On Mobile (max-sm), force windows to be fixed, full screen, z-40 */

  #safari {
    @apply w-4xl absolute top-40 left-2/12 bg-white shadow-2xl drop-shadow-2xl rounded-xl overflow-hidden
           max-sm:fixed max-sm:inset-0 max-sm:w-full max-sm:h-full max-sm:rounded-none max-sm:z-40;

    .search {
      @apply flex items-center gap-3 w-2/3 bg-white border border-gray-300 rounded-lg px-3 py-2 max-sm:w-full;

      input { @apply placeholder:text-gray-400 w-full; }
    }

    .blog {
      @apply bg-white p-10 max-w-3xl mx-auto max-sm:p-4;

      h2 { @apply text-xl font-bold text-pink-600 mb-10; }

      .blog-post {
        @apply grid grid-cols-12 space-x-5 max-sm:flex max-sm:flex-col max-sm:space-x-0 max-sm:gap-4;

        img { @apply size-full rounded-md object-cover max-sm:h-48; }

        .content {
          @apply col-span-10 space-y-3;
          p { @apply text-xs text-gray-500; }
          h3 { @apply font-semibold text-base text-gray-800; }
          a { @apply text-blue-600 text-xs hover:underline flex items-center gap-3; }
        }
      }
    }
  }

  #terminal {
    @apply w-xl absolute top-32 left-1/12 bg-white shadow-2xl drop-shadow-2xl rounded-xl overflow-hidden
           max-sm:fixed max-sm:inset-0 max-sm:w-full max-sm:h-full max-sm:rounded-none max-sm:z-40;

    h2 { @apply font-bold text-sm text-center w-full; }

    .techstack {
      @apply text-sm font-roboto p-5;
      .label { @apply flex items-center ms-10 mt-7 max-sm:ms-0; }
      .content {
        @apply py-5 my-5 border-y border-dashed space-y-1;
        li {
          .check { @apply text-[#00A154] w-5; }
          h3 { @apply font-semibold text-[#00A154] w-32 ms-5; }
          ul { @apply flex items-center gap-3 max-sm:flex-wrap; }
        }
      }
      .footnote {
        @apply text-[#00A154] space-y-1;
        p { 
          @apply flex items-center; 
          svg { @apply w-5 me-5; }
        }
      }
    }
  }

  #contact {
    @apply max-w-2xl absolute top-60 left-5/12 bg-white shadow-2xl drop-shadow-2xl rounded-xl overflow-hidden
           max-sm:fixed max-sm:inset-0 max-sm:w-full max-sm:h-full max-sm:rounded-none max-sm:z-40;

    h2 { @apply font-bold text-sm text-center w-full; }
    h3 { @apply text-xl font-semibold; }

    ul {
      @apply flex items-center gap-3 max-sm:flex-col max-sm:gap-6 max-sm:mt-10;

      li {
        @apply rounded-lg p-3 w-60 hover:-translate-y-0.5 hover:scale-105 origin-center transition-all duration-300 max-sm:w-full;
        a { @apply space-y-5; }
        p { @apply font-semibold text-sm text-white; }
      }
    }
  }

  #photos {
    @apply max-w-3xl absolute top-96 left-1/2 -translate-y-1/2 bg-white shadow-2xl drop-shadow-2xl rounded-xl overflow-hidden
           max-sm:fixed max-sm:inset-0 max-sm:w-full max-sm:h-full max-sm:rounded-none max-sm:translate-x-0 max-sm:translate-y-0 max-sm:left-0 max-sm:top-0 max-sm:z-40;

    /* Make Photo Gallery Stack vertically on mobile */
    @apply max-sm:flex max-sm:flex-col;

    .sidebar {
      @apply w-3/12 flex-none bg-gray-50 border-r border-gray-200 flex flex-col p-5
             max-sm:w-full max-sm:h-auto max-sm:border-r-0 max-sm:border-b;

      h2 { @apply text-xs font-medium text-gray-400 mb-1; }
      ul {
        @apply max-sm:flex max-sm:gap-4 max-sm:overflow-x-auto;
        li {
          @apply flex space-y-1 items-center gap-2 px-3 py-2 rounded-md cursor-pointer transition-colors;
          &:first-child { @apply bg-blue-100 text-blue-700; }
          img { @apply w-4; }
          p { @apply text-sm font-medium; }
        }
      }
    }

    .gallery {
      @apply p-5 max-sm:flex-1 max-sm:overflow-y-auto;

      ul {
        @apply grid grid-cols-5 grid-rows-5 gap-2.5 max-sm:grid-cols-2 max-sm:grid-rows-none max-sm:auto-rows-fr;

        li {
          img { @apply size-full object-cover rounded-lg; }
          
          /* Reset grid spans for mobile to make it a simple 2-col grid */
          &:first-child, &:nth-child(2), &:nth-child(3), &:last-child {
            @apply max-sm:row-span-1 max-sm:col-span-1;
          }
          /* Keep desktop layout spans */
          &:first-child { @apply sm:row-start-1 sm:row-span-3 sm:col-start-1 sm:col-span-3; }
          &:nth-child(2) { @apply sm:row-start-1 sm:row-span-3 sm:col-start-4 sm:col-span-2; }
          &:nth-child(3) { @apply sm:row-start-4 sm:row-span-2 sm:col-start-3 sm:col-span-3; }
          &:last-child { @apply sm:row-start-4 sm:row-span-2 sm:col-start-1 sm:col-span-2; }
        }
      }
    }
  }

  #resume {
    @apply w-fit h-fit absolute top-16 left-7/12 bg-white shadow-2xl drop-shadow-2xl rounded-xl overflow-hidden
           max-sm:fixed max-sm:inset-0 max-sm:w-full max-sm:h-full max-sm:rounded-none max-sm:z-40;
    
    #window-header h2 { @apply font-bold text-sm text-center flex-1; }
  }

  #finder {
    @apply absolute w-3xl left-40 top-20 shadow-2xl drop-shadow-2xl overflow-hidden rounded-xl
           max-sm:fixed max-sm:inset-0 max-sm:w-full max-sm:h-full max-sm:rounded-none max-sm:left-0 max-sm:top-0 max-sm:z-40;
    
    @apply max-sm:flex max-sm:flex-col;

    .sidebar {
      @apply w-48 bg-gray-50 border-r border-gray-200 flex flex-col p-5 space-y-3
             max-sm:w-full max-sm:h-auto max-sm:flex-row max-sm:overflow-x-auto max-sm:border-r-0 max-sm:border-b;
      
      h3 { @apply text-xs font-medium text-gray-400 mb-1 max-sm:hidden; }
      ul {
        @apply space-y-1 max-sm:flex max-sm:space-y-0 max-sm:gap-2;
        .active { @apply bg-blue-100 text-blue-700; }
        .not-active { @apply text-gray-700 hover:bg-gray-200; }
        li { @apply flex items-center gap-2 px-3 py-2 rounded-md cursor-pointer transition-colors; }
      }
    }

    .content {
      @apply flex-1 p-8 bg-white max-w-2xl relative max-sm:w-full;
      li {
        /* Mobile: Grid instead of absolute positioning inside Finder */
        @apply absolute flex items-center flex-col gap-3 max-sm:relative; 
        img { @apply object-contain object-center size-16 relative group-hover:scale-105; }
        p { @apply text-sm text-center font-medium w-40; }
      }
      /* Override absolute list items for mobile finder content */
      & > ul {
        @apply max-sm:grid max-sm:grid-cols-3 max-sm:gap-4;
      }
    }
  }

  #txtfile, #imgfile {
    @apply w-md absolute top-36 right-32 bg-white shadow-2xl drop-shadow-2xl rounded-xl overflow-hidden
           max-sm:fixed max-sm:inset-0 max-sm:w-full max-sm:h-full max-sm:rounded-none max-sm:left-0 max-sm:top-0 max-sm:z-40;
  }
}